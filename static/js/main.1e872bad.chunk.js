(this.webpackJsonpbookkeeping=this.webpackJsonpbookkeeping||[]).push([[0],{243:function(e,n,t){},244:function(e,n,t){},245:function(e,n,t){},248:function(e,n,t){},253:function(e,n,t){},254:function(e,n,t){},549:function(e,n,t){},550:function(e,n,t){},551:function(e,n,t){},552:function(e,n,t){"use strict";t.r(n);var a=t(1),c=t(3),r=t.n(c),o=t(233),s=t.n(o),i=(t(243),t(29)),l=t(36),u=t(21),d=t(105),h=t(106),j=function(){function e(n){Object(d.a)(this,e),this.dataKey=n}return Object(h.a)(e,[{key:"readData",value:function(){var e=localStorage.getItem(this.dataKey),n=[];return null!=e&&(n=JSON.parse(e)),n}},{key:"saveData",value:function(e){var n=JSON.stringify(e);localStorage.setItem(this.dataKey,n)}},{key:"addData",value:function(e){var n=this.readData(),t=e,a=n.length>0?n[n.length-1].id+1:1;return t.id=a,t.createAt=new Date,n.push(t),this.saveData(n),a}},{key:"removeData",value:function(e){var n=this.readData(),t=n.findIndex((function(n){return n.id===e}));return t>-1&&(n.splice(t,1),this.saveData(n),!0)}},{key:"dataConversion",value:function(e){var n=new Date(e);return{year:n.getFullYear(),month:n.getMonth()+1,day:n.getDate(),weekDay:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"][n.getDay()],hours:n.getHours(),minute:n.getMinutes()}}}]),e}();t(244);function b(e){var n=new j("accountBook"),t=Object(c.useState)(""),r=Object(u.a)(t,2),o=r[0],s=r[1];Object(c.useEffect)((function(){for(var t=document.querySelectorAll("div.buttonWrap>button"),a=0;a<t.length;a++)t[a].onclick=function(t){var a=t.target.textContent;if("\u5220\u9664"===a){if(0===o.length)return;s(o=o.substring(0,o.length-1))}else if("\u6e05\u96f6"===a)s("");else if("\u786e\u8ba4"===a){if("0"===o||""===o)return console.log("\u7ed9\u6211\u4e00\u4e2a\u6570\u5b57");console.log("\u8bb0\u5f55\u4e00\u7b14\u8d26");var c=Object(l.a)(Object(l.a)({},e.value),{},{amount:o});console.log("\ud83d\ude80 ~ file: numberPad.js ~ line 39 ~ editNumber ~ newBookList",c),n.addData(c),e.handleDefault(),s("")}else if(o.length<16)return s(o.concat(a))}}));var i=[];return["1","2","3","\u5220\u9664","4","5","6","\u786e\u8ba4","7","8","9","\u6e05\u96f6","0","."].map((function(e,n){var t=Object(a.jsx)("button",{className:"\u786e\u8ba4"===e?"OK":"",children:e},n);return i.push(t)})),Object(a.jsxs)("div",{className:"numberPad",children:[Object(a.jsxs)("div",{className:"show",children:[Object(a.jsx)("div",{className:"show-string",children:"\u91d1\u989d"}),Object(a.jsx)("div",{className:"show-number",children:o})]}),Object(a.jsx)("div",{className:"buttonWrap",children:i})]})}var m=t(30);t(245);function f(){var e=Object(i.a)(["\n\n  .iconfont{\n    width: 1em;\n    height: 1em;\n    vertical-align: -0.15em;\n    overflow: hidden;\n    fill: currentColor;\n  }\n"]);return f=function(){return e},e}var v=m.a.div(f());function x(e){var n=" i-"+e.name;return Object(a.jsx)(v,{className:"iconWrap",children:Object(a.jsx)("i",{className:"iconfont"+n})})}var O=t(15),p=(t(248),[{name:"salary",value:"\u5de5\u8d44"},{name:"part-time-job",value:"\u517c\u804c"},{name:"bonus",value:"\u5956\u91d1"},{name:"reimbursement",value:"\u62a5\u9500"},{name:"cash-gift",value:"\u793c\u91d1"}]),g=[{name:"food",value:"\u9910\u996e",choose:!0},{name:"rice",value:"\u5348\u9910/\u665a\u9910",choose:!1},{name:"takeOut",value:"\u5916\u5356",choose:!1},{name:"vegetables",value:"\u4e70\u83dc",choose:!1},{name:"snacks",value:"\u96f6\u98df",choose:!1},{name:"barbecue",value:"\u5c0f\u5403",choose:!1},{name:"drink",value:"\u996e\u6599",choose:!1}],y=[{name:"shopping",value:"\u8d2d\u7269",choose:!0},{name:"necessary",value:"\u65e5\u7528\u54c1",choose:!1},{name:"cloth",value:"\u8863\u670d",choose:!1},{name:"digital",value:"\u6570\u7801",choose:!1},{name:"electricalGoods",value:"\u7535\u5668",choose:!1},{name:"furniture",value:"\u5bb6\u5177",choose:!1},{name:"cosmetic",value:"\u5316\u5986\u54c1",choose:!1}],N=[{name:"transport",value:"\u4ea4\u901a",choose:!0},{name:"ship",value:"\u8f6e\u8239",choose:!1},{name:"subway",value:"\u5730\u94c1",choose:!1},{name:"train",value:"\u706b\u8f66",choose:!1},{name:"plane",value:"\u98de\u673a",choose:!1},{name:"taxi",value:"\u51fa\u79df\u8f66",choose:!1}],w=[{name:"house",value:"\u5c45\u4f4f",choose:!1},{name:"phone",value:"\u8bdd\u8d39\u7f51\u8d39",choose:!1},{name:"water",value:"\u6c34\u8d39",choose:!1},{name:"electric",value:"\u7535\u8d39",choose:!1},{name:"fix",value:"\u7ef4\u4fee",choose:!1}],D=[{name:"entertainment",value:"\u5a31\u4e50",choose:!1},{name:"game",value:"\u6e38\u620f",choose:!1},{name:"movie",value:"\u7535\u5f71",choose:!1},{name:"sports",value:"\u8fd0\u52a8",choose:!1},{name:"travel",value:"\u65c5\u6e38",choose:!1}],k=[{name:"medical",value:"\u533b\u7597",choose:!1},{name:"drug",value:"\u836f\u54c1\u8d39",choose:!1},{name:"surgery",value:"\u624b\u672f\u8d39",choose:!1}],S=function(){function e(n){Object(d.a)(this,e),this.dataKey=n}return Object(h.a)(e,[{key:"readData",value:function(){var e=[g,y,N,w,D,k],n=localStorage.getItem(this.dataKey);return null!=n?JSON.parse(n):e}},{key:"saveData",value:function(e){var n=JSON.stringify(e);localStorage.setItem(this.dataKey,n)}},{key:"addData",value:function(e){var n=this.readData(),t=e,a=n.length>0?n[n.length-1].id+1:1;return t.id=a,n.push(t),this.saveData(n),a}},{key:"removeData",value:function(e){var n=this.readData(),t=n.findIndex((function(n){return n.id===e}));return t>-1&&(n.splice(t,1),this.saveData(n),!0)}}]),e}();function F(e){var n=new S("labelRecord").readData().flat().filter((function(e){return!0===e.choose})),t=Object(O.g)(),r=e.tagList?e.tagList:n,o=Object(c.useState)(0),s=Object(u.a)(o,2),i=s[0],l=s[1],d=[];return Object(c.useEffect)((function(){l(0)}),[e.tagList]),r.map((function(n,t){var c=Object(a.jsxs)("li",{onClick:function(){return function(n){var t=r.indexOf(n);l(t),e.handleTag(n)}(n)},children:[Object(a.jsx)("div",{className:"iconWrapper ".concat(i===t?"selected":""),children:Object(a.jsx)(x,{name:n.name})}),Object(a.jsx)("span",{children:n.value})]},t);return d.push(c)})),Object(a.jsxs)("ul",{className:"tagList",children:[d,e.ifPushAddTag?Object(a.jsxs)("li",{onClick:function(){return t.push("/totalLabel")},children:[Object(a.jsx)("div",{className:"iconWrapper",children:Object(a.jsx)(x,{name:"addTag"})}),Object(a.jsx)("span",{children:"\u6dfb\u52a0"})]}):null]})}function L(){var e=Object(i.a)(["\n  height:100%;\n  // display:flex;\n  // flex-direction:column;\n  .tabBar{\n    display:flex;\n    justify-content:center;\n    align-items:center;\n    font-size:20px;\n    padding:4px 4px 0 4px;\n    background:#ffda47;\n    >span{\n      display:flex;\n      justify-content:center;\n      align-items:center;\n      position: relative;\n      margin: 0 15px;\n      padding:24px 0 8px;\n      &.selected::after{\n        content:'';\n        position:absolute;\n        height:1px;\n        background:black;\n        left:-40%;\n        bottom:0;\n        width:180%\n      }\n    }\n  }\n  .tabBar-taglist{\n    height:82%;\n    overflow:auto;\n  }\n"]);return L=function(){return e},e}var A=m.a.div(L());function I(e){var n=new S("labelRecord").readData().flat().filter((function(e){return!0===e.choose})),t=Object(c.useState)(!0),r=Object(u.a)(t,2),o=r[0],s=r[1],i=p;function l(t){var a="-"===t;s(a);var c=!0===a?n[0]:i[0];e.moneyType(t,c)}function d(n){e.tagName(n)}return Object(a.jsxs)(A,{children:[Object(a.jsxs)("div",{className:"tabBar",children:[Object(a.jsx)("span",{onClick:function(){return l("-")},className:o?"selected":"",children:"\u652f\u51fa"}),Object(a.jsx)("span",{onClick:function(){return l("+")},className:o?"":"selected",children:"\u6536\u5165"})]}),Object(a.jsx)("div",{className:"tabBar-taglist",children:o?Object(a.jsx)(F,{handleTag:d,ifPushAddTag:!0}):Object(a.jsx)(F,{tagList:i,handleTag:d})})]})}function T(){var e=Object(i.a)(["\n  label{\n    display: flex;\n    align-items: center;\n    padding: 4px 8px;\n    font-size: 14px;\n    border-top: 1px solid #f5f5f5;\n    background: lighten(#f5f5f5, 4%);\n    .icon {\n      margin-right: 2px;\n    }\n    span {\n      white-space: nowrap;\n    }\n    input {\n      flex-grow: 1;\n      margin-left: 8px;\n      height: 32px;\n      border: none;\n      background: inherit;\n    }\n  }\n"]);return T=function(){return e},e}var W=m.a.div(T());function C(e){return Object(a.jsx)(W,{children:Object(a.jsxs)("label",{children:[Object(a.jsx)("div",{className:"icon",children:Object(a.jsx)(x,{name:"note"})}),Object(a.jsx)("span",{children:"\u5907\u6ce8:"}),Object(a.jsx)("input",{placeholder:"\u5199\u70b9\u5907\u6ce8\u5427",type:"text",value:e.value,onChange:e.handleInput})]})})}t(252);var B=t(66);t(253);function E(){var e=[{name:"money",value:"\u8bb0\u8d26"},{name:"bookkeeping",value:"\u672c\u6708\u6982\u51b5"},{name:"charts",value:"\u56fe\u8868"}],n=[],t=Object(O.h)().pathname;return["/countMoney","/general","/charts"].map((function(c,r){var o=Object(a.jsx)("li",{children:Object(a.jsxs)(B.b,{to:c,className:t===c?"active":"",children:[Object(a.jsx)(x,{name:e[r].name}),t===c?Object(a.jsx)("span",{className:"showWord",children:e[r].value}):null]})},r);return n.push(o)})),Object(a.jsx)("div",{className:"navWrapper",children:Object(a.jsx)("ul",{children:n})})}function M(){var e=Object(i.a)(["\n  height:100%;\n  display:flex;\n  justify-content: flex-start;\n  flex-direction:column;\n  .switchAddOrMinus{\n    height:51%;\n    // flex:1;\n  }\n  .note{\n    height:6%;\n  }\n  .numberPadWrap{\n    height:35%\n  }\n  .navWrap{\n    height:8%\n  }\n"]);return M=function(){return e},e}var Y=m.a.div(M());function P(){var e=Object(c.useState)({id:"",moneyType:"-",amount:"",note:"",tag:{name:"food",value:"\u9910\u996e"},createAt:""}),n=Object(u.a)(e,2),t=n[0],r=n[1];return Object(a.jsxs)(Y,{children:[Object(a.jsx)("div",{className:"switchAddOrMinus",children:Object(a.jsx)(I,{tagName:function(e){r(Object(l.a)(Object(l.a)({},t),{},{tag:e}))},moneyType:function(e,n){r(Object.assign(t,{moneyType:e,tag:n}))}})}),Object(a.jsx)("div",{className:"note",children:Object(a.jsx)(C,{handleInput:function(e){var n=e.target.value;r(Object(l.a)(Object(l.a)({},t),{},{note:n}))},value:t.note})}),Object(a.jsx)("div",{className:"numberPadWrap",children:Object(a.jsx)(b,{value:t,handleDefault:function(){r(Object(l.a)(Object(l.a)({},t),{},{note:""})),console.log("...countmoney49",t)}})}),Object(a.jsx)("div",{className:"navWrap",children:Object(a.jsx)(E,{})})]})}t(254);function K(){var e=new j("accountBook").readData().reverse(),n=[],t=function(n){return e.filter((function(e){return e.moneyType===n})).reduce((function(e,n){return e+parseInt(n.amount)}),0)};return e.map((function(e,t){var c=new Date(e.createAt).toLocaleDateString(),r="-"===e.moneyType?-e.amount:e.amount,o=Object(a.jsxs)("li",{children:[Object(a.jsxs)("div",{className:"iconWrapper",children:[Object(a.jsx)(x,{name:e.tag.name}),Object(a.jsx)("span",{children:e.tag.value})]}),Object(a.jsxs)("div",{className:"moneyAndDate",children:[Object(a.jsxs)("span",{className:"moneyAndDate-money",children:["\uffe5",r]}),Object(a.jsx)("span",{className:"moneyAndDate-date",children:c})]})]},t);return n.push(o)})),Object(a.jsxs)("div",{className:"general",children:[Object(a.jsxs)("div",{className:"general-head",children:[Object(a.jsx)("span",{children:"\u5168\u90e8\u6536\u652f |"}),Object(a.jsxs)("div",{className:"general-head-block",children:[Object(a.jsx)("span",{className:"general-head-block-word",children:"\u6536\u5165"}),Object(a.jsxs)("span",{className:"general-head-block-number",children:["\uffe5",t("+")]})]}),Object(a.jsxs)("div",{className:"general-head-block",children:[Object(a.jsx)("span",{className:"general-head-block-word",children:"\u652f\u51fa"}),Object(a.jsxs)("span",{className:"general-head-block-number",children:["\uffe5",t("-")]})]})]}),Object(a.jsx)("div",{className:"general-body",children:Object(a.jsx)("ul",{className:"general-body-list",children:n})}),Object(a.jsx)("div",{className:"general-nav",children:Object(a.jsx)(E,{})})]})}var J=t(237),z=t(31),R=t.n(z),X=function(){var e=(new Date).toISOString();return{year:R()(e).format("YYYY"),month:R()(e).format("MM"),day:R()(e).format("DD")}},H=t(107),q=t.n(H),G=document.documentElement.clientWidth,V=.7*document.documentElement.clientWidth;function Q(e){return Object(c.useEffect)((function(){var n=document.getElementById("barChart");n.style="width: ".concat(G,"px;height:").concat(V,"px");var t=q.a.init(n),a={tooltip:{},legend:{data:["\u652f\u51fa","\u6536\u5165"],selected:{"\u652f\u51fa":!0,"\u6536\u5165":!1},itemWidth:40,itemHeight:25},grid:{x:15,y:40,x2:20,y2:30,borderWidth:1},xAxis:{type:"category",data:e.value.dayOfMonthX,splitLine:{show:!0,lineStyle:{color:["#F5F4F9"]}},axisLine:{lineStyle:{type:"solid",color:"#F5F4F9",width:"1"}},axisLabel:{interval:1,textStyle:{color:"#000",fontSize:12}}},yAxis:{splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1}},series:[{name:"\u652f\u51fa",type:"bar",data:e.value.expenseArr,itemStyle:{normal:{barBorderRadius:[20,10,0,0],color:"#FD6B71",label:{show:!0,position:"top",textStyle:{color:"#FD6B71"}}}},barWidth:5},{name:"\u6536\u5165",type:"bar",data:e.value.incomeArr,itemStyle:{normal:{barBorderRadius:[20,10,0,0],color:"#5aa469",label:{show:!0,position:"top",textStyle:{color:"#5aa469"}}}},barWidth:5}]};t.setOption(a),t.on("legendselectchanged",(function(n){for(var c=0;c<a.legend.data.length;c++)n.name===a.legend.data[c]?a.legend.selected[n.name]=!0:a.legend.selected[a.legend.data[c]]=!1;"\u6536\u5165"===n.name?e.controller("+"):e.controller("-"),t.setOption(a)}))}),[]),Object(a.jsx)("div",{id:"barChart"})}var U=document.documentElement.clientWidth,Z=.7*document.documentElement.clientWidth;function $(e){return Object(c.useEffect)((function(){var n=document.getElementById("doughnut");n.style="width: ".concat(U,"px;height:").concat(Z,"px");var t=q.a.init(n),a={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},series:[{name:"\u8bbf\u95ee\u6765\u6e90",type:"pie",radius:["45%","75%"],label:{show:!0,position:"center"},itemStyle:{normal:{label:{show:!0,textStyle:{color:"#3c4858",fontSize:"14"},formatter:function(e){return e.name.split("-").join("\n")}}},emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)",textColor:"#000"}},data:e.pureTagList.tagCost,color:["#0E7CE2","#FF8352","#E271DE","#F8456B","#00FFFF","#4AEAB0","#503EFF","#733DFF","#966EFF"]}]};t.setOption(a)})),Object(a.jsx)("div",{id:"doughnut"})}t(549);function _(){var e=new j("accountBook").readData(),n=R()().daysInMonth(),t=X().year,r=X().month,o=e.filter((function(e){var n=R()(e.createAt).format("YYYY"),a=R()(e.createAt).format("MM");return n===t&&a===r})),s=o.filter((function(e){return"-"===e.moneyType})),i=o.filter((function(e){return"+"===e.moneyType})),l=function(e){for(var n="-"===e?s:i,t=[],a=0,c="",r=function(e){for(var n="-"===e?s:i,t=0,a=0;a<n.length;a++)t+=parseFloat(n[a].amount);return t}(e),o=n.map((function(e){return e.tag.value})),l=Object(J.a)(new Set(o)),u=function(e){var o=n.filter((function(n){return n.tag.value===l[e]})),s=((a=o.reduce((function(e,n){return e+parseInt(n.amount)}),0))/r*100).toFixed(2);c=s.toString()+"%-"+l[e],t.push({value:a,name:c})},d=0;d<l.length;d++)u(d);return{tagCost:t,pureTagList:l}},d=Object(c.useState)(!1),h=Object(u.a)(d,2),b=h[0],m=h[1];return Object(a.jsxs)("div",{className:"chart",children:[Object(a.jsxs)("span",{children:[R()().month()+1,"\u6708\u603b\u652f\u51fa"]}),Object(a.jsx)("div",{className:"chart-bar",children:Object(a.jsx)(Q,{value:function(){for(var e=[],t=[],a=[],c=function(n){a[n]=n+1;var c=s.filter((function(e){return parseInt(R()(e.createAt).format("DD"))===n+1})).map((function(e){return parseInt(e.amount)})).reduce((function(e,n){return e+n}),0);e[n]=0===c?"":c;var r=i.filter((function(e){return parseInt(R()(e.createAt).format("DD"))===n+1})).map((function(e){return parseInt(e.amount)})).reduce((function(e,n){return e+n}),0);t[n]=0===r?"":r},r=0;r<n;r++)c(r);return{expenseArr:e,incomeArr:t,dayOfMonthX:a}}(),controller:function(e){m("+"===e)}})}),Object(a.jsx)("div",{className:"chart-doughnut",children:!1===b?Object(a.jsx)($,{pureTagList:l("-")}):Object(a.jsx)($,{pureTagList:l("+")})}),Object(a.jsx)("div",{className:"navWrap",children:Object(a.jsx)(E,{})})]})}t(550);function ee(){var e=Object(O.g)(),n=new S("labelRecord"),t=Object(c.useState)(n.readData()),r=Object(u.a)(t,1)[0],o=r.flat().filter((function(e){return!0===e.choose})),s=Object(c.useState)(o),i=Object(u.a)(s,2),l=i[0],d=i[1],h=[];function j(e){var t=[];return e.map((function(e,c){var o=Object(a.jsxs)("li",{className:parseInt(l.indexOf(e))>=0?"active":"",onClick:function(){return function(e){e.choose=!e.choose;var t=r.flat().filter((function(e){return!0===e.choose}));d(t),n.saveData(r)}(e)},children:[Object(a.jsx)(x,{name:e.name}),Object(a.jsx)("span",{className:"iconValue",children:e.value})]},c);return t.push(o)})),t}return r.map((function(e,n){var t=Object(a.jsxs)("div",{className:"sort",children:[Object(a.jsx)("div",{className:"sort-name",children:e[0].value}),Object(a.jsx)("ul",{className:"sort-lists",children:j(e)})]},n);return h.push(t)})),Object(a.jsxs)("div",{className:"totalLabel",children:[Object(a.jsxs)("div",{className:"totalLabel-header",children:[Object(a.jsxs)("div",{onClick:function(){e.go(-1)},children:[Object(a.jsx)(x,{name:"left"})," "]}),Object(a.jsx)("span",{children:"\u6dfb\u52a0\u652f\u51fa\u7c7b\u522b"})]}),Object(a.jsx)("div",{className:"totalLabel-body",children:h})]})}function ne(){return Object(a.jsx)("div",{children:Object(a.jsx)("h1",{children:"404!!!"})})}function te(){return Object(a.jsx)("div",{children:Object(a.jsx)("h1",{children:"zheshi edit"})})}t(551);function ae(){var e=Object(i.a)(["\n  overflow:auto;\n  flex:1\n"]);return ae=function(){return e},e}function ce(){var e=Object(i.a)(["\n  height:100vh;\n  display:flex;\n  flex-direction:column\n"]);return ce=function(){return e},e}var re=m.a.div(ce()),oe=m.a.div(ae());function se(){return Object(a.jsx)(B.a,{children:Object(a.jsx)(re,{children:Object(a.jsx)(oe,{children:Object(a.jsxs)(O.d,{children:[Object(a.jsx)(O.b,{path:"/countMoney",children:Object(a.jsx)(P,{})}),Object(a.jsx)(O.b,{exact:!0,path:"/general",component:K}),Object(a.jsx)(O.b,{path:"/charts",children:Object(a.jsx)(_,{})}),Object(a.jsx)(O.b,{path:"/totalLabel",children:Object(a.jsx)(ee,{})}),Object(a.jsx)(O.b,{path:"/edit/:id",component:te}),Object(a.jsx)(O.b,{path:"/",children:Object(a.jsx)(O.a,{to:"/countMoney"})}),Object(a.jsx)(O.b,{path:"*",children:Object(a.jsx)(ne,{})})]})})})})}var ie=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,553)).then((function(n){var t=n.getCLS,a=n.getFID,c=n.getFCP,r=n.getLCP,o=n.getTTFB;t(e),a(e),c(e),r(e),o(e)}))};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(se,{})}),document.getElementById("root")),ie()}},[[552,1,2]]]);
//# sourceMappingURL=main.1e872bad.chunk.js.map