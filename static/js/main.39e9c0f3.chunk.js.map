{"version":3,"sources":["store/datahelper.js","components/numberPad.js","components/icon.js","components/tagList.js","store/iconList.js","components/tabs.js","components/note.js","pages/countMoney.js","pages/general.js","store/dateFormatter.js","components/charts/barChart.js","components/charts/doughnut.js","pages/charts.js","pages/totalLabel.js","pages/404.js","components/nav.js","App.js","reportWebVitals.js","index.js"],"names":["Datahelper","dataKey","this","strData","localStorage","getItem","arrData","JSON","parse","stringify","setItem","receivedObj","readData","obj","newId","length","id","createAt","Date","push","saveData","arrDate","index","findIndex","ele","splice","getTime","time","year","getFullYear","month","getMonth","day","getDate","weekDay","getDay","hours","getHours","minute","getMinutes","NumberPad","props","db","useState","amount","setAmount","useEffect","buttons","document","querySelectorAll","i","onclick","e","buttonContent","target","textContent","substring","console","log","newBookList","value","addData","handleDefault","concat","map","item","button","className","IconWrap","styled","div","Icon","name","TagListWrap","ul","TagList","history","useHistory","iconChoosed","tagList","iconSelect","setIconSelect","labelUsed","onClick","indexOf","handleTag","chooseTag","ifPushAddTag","defaultExpenseTags","defaultIncomeTags","TabsWrap","Tabs","navBarType","setNavBarType","expenseTagList","incomeTagList","navbarHandle","defaultTag","moneyType","tag","tagName","Inputwrap","Input","placeholder","type","onChange","handleInput","CountMoneyWrap","CountMoney","note","bookList","setBookList","Object","assign","inputMsg","General","localList","reverse","myAccountList","totalMoneyOfTag","filter","reduce","sum","parseInt","date","toLocaleDateString","li","dateFormatter","toISOString","dayjs","format","width","documentElement","clientWidth","height","BarChart","container","getElementById","style","myChart","echarts","init","option","tooltip","legend","data","selected","支出","收入","itemWidth","itemHeight","grid","x","y","x2","y2","borderWidth","xAxis","dayOfMonthX","splitLine","show","lineStyle","color","axisLine","axisLabel","interval","textStyle","fontSize","yAxis","axisTick","series","expenseArr","itemStyle","normal","barBorderRadius","label","position","barWidth","incomeArr","setOption","on","controller","Doughnut","trigger","formatter","radius","val","split","join","emphasis","shadowBlur","shadowOffsetX","shadowColor","textColor","tagCost","Charts","monthLastDay","daysInMonth","filterLocalList","createYear","createMonth","expenseList","incomeList","eachTagCost","accountList","totalValueByType","totalAccountByType","parseFloat","allSameTypeTags","pureTagList","Set","arr","percentValue","toFixed","toString","setController","eachDayCost","j","eachDayIncome","arrAccount","TotalLabel","noMatch","Nav","addressList","navIcons","navList","clickIndex","setClickIndex","to","navClickHandle","Wrapper","Main","App","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.39e9c0f3.chunk.js","sourcesContent":["export default class Datahelper {\r\n  constructor(dataKey) {\r\n    this.dataKey = dataKey\r\n    // this.primaryKey = primaryKey\r\n  }\r\n\r\n  readData() {\r\n    //根据键值读取本地数据\r\n    let strData = localStorage.getItem(this.dataKey)\r\n    //把json数据转为js对象，并且赋值给arrData\r\n    let arrData = []\r\n    if (strData != null) arrData = JSON.parse(strData)\r\n    return arrData\r\n  }\r\n\r\n  saveData(arrData) {\r\n    //接收一个数组并专为json\r\n    let strData = JSON.stringify(arrData)\r\n    //存储到本地\r\n    localStorage.setItem(this.dataKey, strData)\r\n  }\r\n\r\n  addData(receivedObj) {\r\n    //读取本地数据转为数组\r\n    let arrData = this.readData()\r\n    //接收数据内容，\r\n    // let obj={content:conStr}\r\n    let obj = receivedObj\r\n    //将内容封装到对象，并生成id\r\n    let newId =arrData.length > 0 ? arrData[arrData.length - 1].id + 1 : 1\r\n    obj.id = newId\r\n    obj.createAt=new Date()\r\n    //将对象加入数组\r\n    arrData.push(obj)\r\n    //将数组转为字符串，保存到本地\r\n    this.saveData(arrData)\r\n    return newId\r\n  }\r\n\r\n  removeData(id) {\r\n    //读取本地数据\r\n    let arrDate = this.readData()\r\n    //根据ID寻找要删除的内容\r\n    let index = arrDate.findIndex((ele) => {\r\n      return ele.id === id\r\n    })\r\n    //调用splice方法删除找出的对象\r\n    if (index > -1) {\r\n      arrDate.splice(index, 1)\r\n      this.saveData(arrDate)\r\n      return true\r\n    }\r\n    //将数组转为字符串，保存到本地\r\n    return false\r\n    //返回boolean值表示删除结果\r\n  }\r\n  dataConversion(getTime){\r\n  let week=['星期日','星期一','星期二','星期三','星期四','星期五','星期六']\r\n  let time=new Date(getTime)\r\n  let year =time.getFullYear()\r\n  let month =time.getMonth()+1\r\n  let day =time.getDate()\r\n  let dayNumber=time.getDay()//获取星期数字\r\n  let weekDay=week[dayNumber]  //获取星期$\r\n  let hours =time.getHours()\r\n  let minute =time.getMinutes()\r\n  return {year,month,day,weekDay,hours,minute}\r\n  }\r\n}\r\n","import {useEffect, useState} from 'react'\r\nimport Datahelper from '../store/datahelper'\r\nimport './numberPad.scss'\r\n\r\nexport default function NumberPad(props){\r\n  let db =new Datahelper('accountBook')\r\n  let [amount,setAmount]=useState(\"\")\r\n  useEffect(()=>{\r\n    const buttons=document.querySelectorAll(\"div.buttonWrap>button\")//获取的是node对象，不是数组\r\n    for(let i=0;i<buttons.length;i++){//必须遍历button挨个添加点击事件，不然点到div上会打印全部的键盘字符\r\n      buttons[i].onclick= function (e){\r\n        let buttonContent =e.target.textContent\r\n        if(buttonContent===\"删除\"){\r\n          if (amount.length===0)return\r\n          setAmount(amount=amount.substring(0,amount.length-1))\r\n        }else if(buttonContent===\"清零\"){\r\n          setAmount(amount=\"\")\r\n        }else if(buttonContent==='确认'){\r\n          if(amount===\"0\"||amount===\"\")return console.log('给我一个数字');\r\n          console.log('记录一笔账');\r\n          const newBookList={...props.value,amount}\r\n          console.log(\"🚀 ~ file: numberPad.js ~ line 39 ~ editNumber ~ newBookList\", newBookList)\r\n          db.addData(newBookList)\r\n          props.handleDefault()\r\n          setAmount(\"\")\r\n        }else{\r\n          if(amount.length<16)return setAmount(amount.concat(buttonContent))\r\n        }\r\n      }\r\n    }\r\n  })\r\n\r\n  const buttonArr=['1','2','3','删除','4','5','6','确认','7','8','9','清零','0',\".\"]\r\n  const buttons=[]\r\n  buttonArr.map((item,index)=>{\r\n    let button= <button key={index} className={item==='确认'?'OK':''}>{item}</button>\r\n    return buttons.push(button)\r\n  })\r\n  return <div className=\"numberPad\">\r\n    <div className=\"show\">\r\n      <div className=\"show-string\">金额</div>\r\n      <div className=\"show-number\">{amount}</div>\r\n    </div>\r\n    <div className=\"buttonWrap\" >\r\n      {buttons}\r\n      {/* <button>1</button>\r\n      <button>2</button>\r\n      <button>3</button>\r\n      <button>删除</button>\r\n      <button>4</button>\r\n      <button>5</button>\r\n      <button>6</button>\r\n      <button className=\"OK\">确认</button>\r\n      <button>7</button>\r\n      <button>8</button>\r\n      <button>9</button>\r\n      <button>清零</button>\r\n      <button>0</button>\r\n      <button>.</button> */}\r\n    </div>\r\n  </div>\r\n}","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport '../assets/icon/iconfont.css'\r\nconst IconWrap=styled.div`\r\n\r\n  .iconfont{\r\n    width: 1em;\r\n    height: 1em;\r\n    vertical-align: -0.15em;\r\n    overflow: hidden;\r\n    fill: currentColor;\r\n  }\r\n`\r\nexport default function Icon(props){\r\n  let name=' i-'+props.name\r\n  return <IconWrap className=\"iconWrap\">\r\n    {/* <sgv className=\"icon\"><use xlinkHref={\"#i-\"+props.name}/></sgv> */}\r\n    <i className={\"iconfont\"+name}></i>\r\n  </IconWrap>\r\n    \r\n\r\n}","import React,{useState,useEffect} from 'react'\r\nimport Icon from './icon'\r\nimport { useHistory } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\n\r\nconst TagListWrap = styled.ul`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  width: 100%;\r\n  li {\r\n    width: 25%;\r\n    display:flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction:column;\r\n    font-size: 12px;\r\n    margin-top:2em;\r\n    .iconWrapper{\r\n      height:4em;\r\n      width:4em;\r\n      border-radius:50%;\r\n      display:flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      flex-direction:column;\r\n      background: #f5f5f5;\r\n      margin-bottom: 4px;\r\n      &.selected {\r\n        background: #ffda47;\r\n      }\r\n      .iconfont{\r\n        font-size:3.3em;\r\n      }\r\n    }\r\n  }\r\n`\r\nexport default function TagList(props) {\r\n  let history = useHistory()\r\n  let iconChoosed = props.tagList\r\n  const [iconSelect,setIconSelect]=useState(0)//选中tag的index值\r\n  const labelUsed = []\r\n  function chooseTag(item) {\r\n    let index=iconChoosed.indexOf(item)\r\n    setIconSelect(index)\r\n    props.handleTag(item)\r\n  }\r\n\r\n  useEffect(()=>{//tabs切换时同时设置默认tag\r\n    setIconSelect(0)\r\n  },[props.tagList])\r\n\r\n  iconChoosed.map((item, index) => {\r\n    let div = (\r\n      <li key={index} onClick={() => chooseTag(item)}>\r\n        <div className={`iconWrapper ${iconSelect===index?\"selected\":\"\"}`}  >\r\n          <Icon name={item.name} />\r\n        </div>\r\n        <span>{item.value}</span>\r\n      </li>\r\n    )\r\n    return labelUsed.push(div)\r\n  })\r\n\r\n  return (\r\n    <TagListWrap>\r\n      {labelUsed}\r\n      {/* 这是为支出列表添加标签的 */}\r\n      {props.ifPushAddTag ? (\r\n        <li onClick={() => history.push('/totalLabel')}>\r\n          <div className=\"iconWrapper\" >\r\n            <Icon name=\"addTag\" />\r\n          </div>\r\n          <span>添加</span>\r\n        </li>\r\n      ) : null}\r\n    </TagListWrap>\r\n  )\r\n}\r\n","const defaultExpenseTags = [\r\n  {name: 'food', value: '餐饮'},\r\n  {name: 'shopping', value: '购物'},\r\n  {name: 'house', value: '居住'},\r\n  {name: 'transport', value: '交通'},\r\n  {name: 'entertainment', value: '娱乐'},\r\n  {name: 'medical', value: '医疗'}\r\n];\r\n\r\nconst defaultIncomeTags = [\r\n  {name: 'salary', value: '工资'},\r\n  {name: 'part-time-job', value: '兼职'},\r\n  {name: 'bonus', value: '奖金'},\r\n  {name: 'reimbursement', value: '报销'},\r\n  {name: 'cash-gift', value: '礼金'}\r\n];\r\n\r\nconst foodTags = [\r\n  {name: 'food', value: '餐饮'},\r\n  {name: 'rice', value: '午餐/晚餐'},\r\n  {name: 'takeOut', value: '外卖'},\r\n  {name: 'vegetables', value: '买菜'},\r\n  {name: 'snacks', value: '零食'},\r\n  {name: 'barbecue', value: '小吃'},\r\n  {name: 'drink', value: '饮料'}\r\n];\r\n\r\nconst shoppingTags = [\r\n  {name: 'shopping', value: '购物'},\r\n  {name: 'necessary', value: '日用品'},\r\n  {name: 'cloth', value: '衣服'},\r\n  {name: 'digital', value: '数码'},\r\n  {name: 'electricalGoods', value: '电器'},\r\n  {name: 'furniture', value: '家具'},\r\n  {name: 'cosmetic', value: '化妆品'}\r\n];\r\n\r\nconst transportTags = [\r\n  {name: 'transport', value: '交通'},\r\n  {name: 'ship', value: '轮船'},\r\n  {name: 'subway', value: '地铁'},\r\n  {name: 'train', value: '火车'},\r\n  {name: 'plane', value: '飞机'},\r\n  {name: 'taxi', value: '出租车'}\r\n];\r\n\r\nconst houseTags = [\r\n  {name: 'house', value: '居住'},\r\n  {name: 'phone', value: '话费网费'},\r\n  {name: 'water', value: '水费'},\r\n  {name: 'electric', value: '电费'},\r\n  {name: 'fix', value: '维修'}\r\n];\r\n\r\nconst entertainmentTags = [\r\n  {name: 'entertainment', value: '娱乐'},\r\n  {name: 'game', value: '游戏'},\r\n  {name: 'movie', value: '电影'},\r\n  {name: 'sport', value: '运动'},\r\n  {name: 'travel', value: '旅游'}\r\n];\r\n\r\nconst medicalTags = [\r\n  {name: 'medical', value: '医疗'},\r\n  {name: 'drug', value: '药品费'},\r\n  {name: 'surgery', value: '手术费'}\r\n]\r\n\r\nexport  {defaultExpenseTags, defaultIncomeTags, foodTags, shoppingTags, transportTags, houseTags, entertainmentTags, medicalTags};","import React, { useState } from 'react'\r\nimport TagList from './tagList'\r\nimport {defaultExpenseTags,defaultIncomeTags} from '../store/iconList'\r\nimport styled from 'styled-components'\r\n\r\nconst TabsWrap =styled.div`\r\n  .tabBar{\r\n    display:flex;\r\n    justify-content:center;\r\n    align-items:center;\r\n    font-size:20px;\r\n    padding:4px 4px 0 4px;\r\n    background:#ffda47;\r\n    >span{\r\n      display:flex;\r\n      justify-content:center;\r\n      align-items:center;\r\n      position: relative;\r\n      margin: 0 15px;\r\n      padding:24px 0 8px;\r\n      &.selected::after{\r\n        content:'';\r\n        position:absolute;\r\n        height:1px;\r\n        background:black;\r\n        left:-40%;\r\n        bottom:0;\r\n        width:180%\r\n      }\r\n    }\r\n  }\r\n  .tabBar-taglist{\r\n    flex:1\r\n  }\r\n`\r\nexport default function Tabs(props) {\r\n  const [navBarType,setNavBarType]=useState(true)\r\n  const [expenseTagList,setExpenseTagList]=useState(defaultExpenseTags)//获取支出图标列表\r\n  const [incomeTagList,setIncomeTagList]=useState(defaultIncomeTags)//获取收入图标列表\r\n  function navbarHandle(e) {//获取moneyType\r\n    let value = e===\"-\"?true:false\r\n    setNavBarType(value)//选择tag列表\r\n    const defaultTag=value===true?expenseTagList[0]:incomeTagList[0] //切换tag列表时设置默认tag\r\n    props.moneyType(e,defaultTag)\r\n  }\r\n  function handleTag(tag){//获取tag\r\n    props.tagName(tag)\r\n  }\r\n  \r\n  return (\r\n    <TabsWrap>\r\n      <div className=\"tabBar\">\r\n        <span onClick={()=>navbarHandle(\"-\")} className={navBarType?\"selected\":\"\"}>支出</span>\r\n        <span onClick={()=>navbarHandle(\"+\")} className={!navBarType?\"selected\":\"\"}>收入</span>\r\n      </div>\r\n      <div className=\"tabBar-taglist\">\r\n        {navBarType? (\r\n          <TagList tagList={expenseTagList} handleTag={handleTag} ifPushAddTag/>\r\n        ) : (\r\n          <TagList tagList={incomeTagList} handleTag={handleTag}/>\r\n        )}\r\n      </div>\r\n    </TabsWrap>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport Icon from './icon'\r\nconst Inputwrap =styled.div`\r\n  label{\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 4px 8px;\r\n    font-size: 14px;\r\n    border-top: 1px solid #f5f5f5;\r\n    background: lighten(#f5f5f5, 4%);\r\n    .icon {\r\n      margin-right: 2px;\r\n    }\r\n    span {\r\n      white-space: nowrap;\r\n    }\r\n    input {\r\n      flex-grow: 1;\r\n      margin-left: 8px;\r\n      height: 32px;\r\n      border: none;\r\n      background: inherit;\r\n    }\r\n  }\r\n`\r\nexport default function Input(props){\r\n\r\n  return <Inputwrap>\r\n    <label>\r\n      <div className=\"icon\">\r\n        <Icon name=\"note\"/>\r\n      </div>\r\n      <span>备注:</span>\r\n      <input \r\n      placeholder=\"写点备注吧\"\r\n      type=\"text\"\r\n      value={props.value}\r\n      onChange={props.handleInput}\r\n      />\r\n    </label>\r\n  </Inputwrap>\r\n}","import React,{ useState} from 'react'\r\nimport NumberPad from '../components/numberPad'\r\nimport Tabs from '../components/tabs'\r\nimport Input from '../components/note'\r\nimport 'antd/dist/antd.css'\r\nimport styled from 'styled-components'\r\n// import Icon from '../components/icon'\r\n\r\nconst CountMoneyWrap=styled.div`\r\n  height:100%;\r\n  display:flex;\r\n  justify-content: center;\r\n  flex-direction:column;\r\n  .switchAddOrMinus{\r\n    flex:1\r\n  }\r\n`\r\nexport default function CountMoney(){//初始数据结构\r\n  let [bookList,setBookList]=useState({\r\n    id:\"\",\r\n    moneyType: \"-\",\r\n    amount:\"\",\r\n    note:\"\",\r\n    tag:{name:\"food\",value:\"餐饮\"},\r\n    createAt:\"\",\r\n  })\r\n\r\n  function handleTabs(type,defaultTag){//保存moneyType\r\n    setBookList(\r\n      Object.assign(bookList,{moneyType:type,tag:defaultTag})//解决useState不会自动合并更新对象的为题！！！！！\r\n    )\r\n  }\r\n  function handleTag(tag){//保存tag\r\n    setBookList({...bookList,tag:tag})\r\n  }\r\n  function handleInput(e){//处理note\r\n    //此处可能需要函数节流\r\n    let inputMsg=e.target.value\r\n    setBookList({...bookList,note:inputMsg})\r\n  }\r\n  function handleDefault(){//初始化数据\r\n    console.log(bookList,'.....');\r\n    setBookList({...bookList,note:\"\"})\r\n    // setBookList(bookList={\r\n    //   id:\"\",\r\n    //   moneyType: \"-\",\r\n    //   amount:\"\",\r\n    //   note:\"\",\r\n    //   tag:{name:\"others\",value:\"其他\"},\r\n    //   createAt:\"\",\r\n    // })\r\n    console.log(bookList,'lllll');\r\n  }\r\n  return <CountMoneyWrap>\r\n    <div className=\"switchAddOrMinus\">\r\n      <Tabs tagName={handleTag} moneyType={handleTabs}/>\r\n    </div>\r\n    <div className=\"note\">\r\n      <Input  handleInput={handleInput} value={bookList.note}/>\r\n    </div>\r\n    <NumberPad className=\"numberPad\" value={bookList} handleDefault={handleDefault}/>\r\n  </CountMoneyWrap>\r\n}","import React from 'react'\r\nimport Datahelper from '../store/datahelper' \r\nimport Icon from '../components/icon'\r\nimport './general.scss'\r\n\r\nexport default function General(){\r\n  let db =new Datahelper('accountBook')\r\n  const localList=db.readData().reverse()\r\n  const myAccountList=[]\r\n  const totalMoneyOfTag=(type)=>{//按照moneyType计算支出和收入\r\n    let value=localList.filter(item=>{\r\n      return item.moneyType===type\r\n    }).reduce((sum,i)=>{return sum+parseInt(i.amount)},0)\r\n    return value\r\n  }\r\n  localList.map((item,index)=>{\r\n    let date=new Date(item.createAt).toLocaleDateString()\r\n    let amount=item.moneyType===\"-\"? -item.amount:item.amount\r\n    let li =<li key={index}>\r\n      <div className=\"iconWrapper\">\r\n        <Icon name={item.tag.name}></Icon>\r\n        <span>{item.tag.value}</span>\r\n      </div>\r\n      <div className=\"moneyAndDate\">\r\n        <span className=\"moneyAndDate-money\">￥{amount}</span>\r\n        <span className=\"moneyAndDate-date\">{date}</span>\r\n      </div>\r\n    </li>\r\n    return myAccountList.push(li)\r\n  })\r\n  return <div className=\"general\">\r\n    <div className=\"general-head\">\r\n      <span>全部收支 |</span>\r\n      <div className=\"general-head-block\">\r\n        <span className=\"general-head-block-word\">收入</span>\r\n        <span className=\"general-head-block-number\">￥{totalMoneyOfTag(\"+\")}</span>\r\n      </div>\r\n      <div className=\"general-head-block\">\r\n        <span className=\"general-head-block-word\">支出</span>\r\n        <span className=\"general-head-block-number\">￥{totalMoneyOfTag(\"-\")}</span>\r\n      </div>\r\n    </div>\r\n    <div className=\"general-body\">\r\n      <ul className=\"general-body-list\">\r\n        {myAccountList}\r\n      </ul>\r\n    </div>\r\n  </div>\r\n}","import dayjs from 'dayjs'\r\nconst dateFormatter =()=>{\r\n  const time= new Date().toISOString()\r\n  const year =dayjs(time).format('YYYY')\r\n  const month =dayjs(time).format('MM')\r\n  const day =dayjs(time).format('DD')\r\n  return {year,month,day}\r\n}\r\nexport {dateFormatter}","import echarts from 'echarts'\r\nimport React, { useEffect } from 'react'\r\n\r\nconst width = document.documentElement.clientWidth\r\nconst height = document.documentElement.clientWidth * 0.7\r\n\r\nexport default function BarChart(props) {\r\n  // const { expenseArr, incomeArr, dayOfMonthX } = props.value\r\n  useEffect(() => {\r\n    let container = document.getElementById('barChart')\r\n    container.style = `width: ${width}px;height:${height}px`\r\n    var myChart = echarts.init(container)\r\n    // 指定图表的配置项和数据\r\n    var option = {\r\n      // title: {\r\n      //     text: 'ECharts 入门示例',\r\n      //     top:20\r\n      // },\r\n      tooltip: {},\r\n      legend: {\r\n        data: ['支出', '收入'],\r\n        selected: {\r\n          支出: true,\r\n          收入: false,\r\n        },\r\n        itemWidth:40,\r\n        itemHeight:25\r\n      },\r\n      grid: {\r\n        x: 15,\r\n        y: 40,\r\n        x2: 20,\r\n        y2: 30,\r\n        borderWidth: 1,\r\n      },\r\n      xAxis: {\r\n        type: 'category',\r\n        // data: dayOfMonthX,\r\n        data: props.value.dayOfMonthX,\r\n        splitLine: {\r\n          show: true,\r\n          lineStyle: {\r\n            color: ['#F5F4F9'],\r\n          },\r\n        },\r\n        axisLine: {\r\n          //坐标线\r\n          lineStyle: {\r\n            type: 'solid',\r\n            color: '#F5F4F9', //轴线的颜色\r\n            width: '1', //坐标线的宽度\r\n          },\r\n        },\r\n        // axisTick: {//刻度\r\n        //   show: false//不显示刻度线\r\n        // },\r\n        axisLabel: {\r\n          interval: 1,\r\n          textStyle: {\r\n            color: '#000', //坐标值的具体的颜色\r\n            fontSize: 12,\r\n          },\r\n        },\r\n      },\r\n      yAxis: {\r\n        splitLine: { show: false },\r\n        axisLine: {\r\n          //线\r\n          show: false,\r\n        },\r\n        axisTick: {\r\n          //刻度\r\n          show: false,\r\n        },\r\n        axisLabel: {\r\n          show: false,\r\n        },\r\n      },\r\n      series: [\r\n        {\r\n          name: '支出',\r\n          type: 'bar',\r\n          // data: expenseArr,\r\n          data: props.value.expenseArr,\r\n          itemStyle: {\r\n            normal: {\r\n              barBorderRadius: [20, 10, 0, 0],\r\n              color: '#FD6B71', //设置柱子颜色\r\n              label: {\r\n                show: true, //柱子上显示值\r\n                position: 'top', //值在柱子上方显示\r\n                textStyle: {\r\n                  color: '#FD6B71', //值得颜色\r\n                },\r\n              },\r\n            },\r\n          },\r\n          barWidth: 5, //设置柱子宽度，单位为px\r\n        },\r\n        {\r\n          name: '收入',\r\n          type: 'bar',\r\n          // data: incomeArr,\r\n          data: props.value.incomeArr,\r\n          itemStyle: {\r\n            normal: {\r\n              barBorderRadius: [20, 10, 0, 0],\r\n              color: '#5aa469', //设置柱子颜色\r\n              label: {\r\n                show: true, //柱子上显示值\r\n                position: 'top', //值在柱子上方显示\r\n                textStyle: {\r\n                  color: '#5aa469', //值得颜色\r\n                },\r\n              },\r\n            },\r\n          },\r\n          barWidth: 5, //设置柱子宽度，单位为px\r\n        },\r\n      ],\r\n    }\r\n    myChart.setOption(option)\r\n    \r\n    myChart.on('legendselectchanged', function (e) {\r\n      for (let i = 0; i < option.legend.data.length; i++) {\r\n        if (e.name === option.legend.data[i]) {\r\n          option.legend.selected[e.name] = true //如果选中，则显示折线\r\n        } else {\r\n          option.legend.selected[option.legend.data[i]] = false // 将状态设置为未选中\r\n        }\r\n      }\r\n      e.name === '收入' ? props.controller('+') : props.controller('-') // 帮助饼图数据联动\r\n      myChart.setOption(option)\r\n    })\r\n    // 使用刚指定的配置项和数据显示图表。\r\n  }, [])\r\n\r\n  return <div id=\"barChart\" />\r\n}\r\n","import echarts from 'echarts'\r\nimport React,{useEffect} from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\n\r\nconst width= document.documentElement.clientWidth\r\nconst height= document.documentElement.clientWidth*0.7\r\nexport default function Doughnut(props){\r\n  useEffect(()=>{\r\n    let container=document.getElementById('doughnut')\r\n    container.style = `width: ${width}px;height:${height}px`;\r\n    var myChart = echarts.init(container);\r\n    // 指定图表的配置项和数据\r\n    const option = {\r\n      tooltip: {\r\n        trigger: 'item',\r\n        formatter: '{a} <br/>{b}: {c} ({d}%)'\r\n      },\r\n      series: [\r\n        {\r\n          name: '访问来源',\r\n          type: 'pie',\r\n          radius: ['45%', '75%'],\r\n          label: {\r\n            show: true,\r\n            position: 'center',\r\n          },\r\n          itemStyle: {\r\n              normal:{\r\n                  label:{\r\n                      show:true,\r\n                      textStyle:{color:'#3c4858',fontSize:\"14\"},\r\n                      formatter:function(val){   \r\n                          return val.name.split(\"-\").join(\"\\n\");}\r\n                  },//饼图图形上的文本标签，可用于说明图形的一些数据信息，比如值，名称等。可以与itemStyle属性同级，具体看文档\r\n                  //线条颜色\r\n              },//基本样式\r\n              emphasis: {\r\n                  shadowBlur: 10,\r\n                  shadowOffsetX: 0,\r\n                  shadowColor: 'rgba(0, 0, 0, 0.5)',//鼠标放在区域边框颜色\r\n                  textColor:'#000'\r\n              }//鼠标放在各个区域的样式\r\n          },\r\n          data: props.tagCost.tagCost,\r\n          color:['#0E7CE2', '#FF8352', '#E271DE', '#F8456B', '#00FFFF', '#4AEAB0',\"#503EFF\",\"#733DFF\",\"#966EFF\"],\r\n        }\r\n      ]\r\n    };\r\n  \r\n    // 使用刚指定的配置项和数据显示图表。\r\n    myChart.setOption(option);\r\n  })\r\n  \r\n  return <div id=\"doughnut\" style={{height:'272px'}}/>\r\n\r\n}","import React from 'react'\r\nimport dayjs from 'dayjs'\r\nimport Datahelper from '../store/datahelper'\r\nimport { dateFormatter } from '../store/dateFormatter'\r\nimport BarChart from '../components/charts/barChart'\r\nimport Doughnut from '../components/charts/doughnut'\r\nimport { useState } from 'react/cjs/react.development'\r\nimport './charts.scss'\r\n\r\nexport default function Charts() {\r\n  let db = new Datahelper('accountBook')\r\n  const localList = db.readData()\r\n  const monthLastDay = dayjs().daysInMonth()\r\n  const { year } = dateFormatter()\r\n  const { month } = dateFormatter()\r\n  // 接下来要获取每日花费\r\n  const filterLocalList = localList.filter((item) => {\r\n    let createYear = dayjs(item.createAt).format('YYYY')\r\n    let createMonth = dayjs(item.createAt).format('MM')\r\n    return createYear === year && createMonth === month\r\n  })\r\n  const expenseList = filterLocalList.filter((item) => {\r\n    //月度支出\r\n    return item.moneyType === '-'\r\n  })\r\n  const incomeList = filterLocalList.filter((item) => {\r\n    //月收入\r\n    return item.moneyType === '+'\r\n  })\r\n  const totalAccountByType = (e) => {\r\n    //支出和花费的月度总额\r\n    let accountList = e === '-' ? expenseList : incomeList\r\n    let totalAccountByType=0\r\n    for (let i = 0; i < accountList.length; i++) {\r\n      totalAccountByType += parseFloat(accountList[i].amount)\r\n    }\r\n    return totalAccountByType\r\n  }\r\n  const arrAccount = () => {\r\n    //这块数据是用于柱状图的\r\n    const expenseArr = []\r\n    const incomeArr = []\r\n    const dayOfMonthX = []\r\n\r\n    for (let i = 0; i < monthLastDay; i++) {\r\n      //遍历每天的总支出\r\n      dayOfMonthX[i] = i + 1\r\n\r\n      let eachDayCost = expenseList\r\n        .filter((item) => {\r\n          return parseInt(dayjs(item.createAt).format('DD')) === i+1\r\n        })\r\n        .map((item) => parseInt(item.amount))\r\n        .reduce((i, j) => {\r\n          return i + j\r\n        }, 0)\r\n      expenseArr[i] = eachDayCost === 0 ? '' : eachDayCost\r\n\r\n      let eachDayIncome = incomeList\r\n        .filter((item) => {\r\n          return parseInt(dayjs(item.createAt).format('DD')) === i+1\r\n        })\r\n        .map((item) => parseInt(item.amount))\r\n        .reduce((i, j) => {\r\n          return i + j\r\n        }, 0)\r\n      incomeArr[i] = eachDayIncome === 0 ? '' : eachDayIncome\r\n    }\r\n    return { expenseArr, incomeArr, dayOfMonthX }\r\n  }\r\n\r\n  const eachTagCost = (e) => {\r\n    //这块数据是用于甜甜圈图表的\r\n    //获取所有的tag\r\n    let accountList = e === '-' ? expenseList : incomeList\r\n    const tagCost = []\r\n    let value = 0\r\n    let name = ''\r\n    let totalValueByType=totalAccountByType(e)//拿到收入或者支出的总值\r\n    let allSameTypeTags = accountList.map((item) => {\r\n      return item.tag.value\r\n    })\r\n    const pureTagList = [...new Set(allSameTypeTags)] //allSameTypeTags就是我们获取的tag集合并且已经去重\r\n    for (let i = 0; i < pureTagList.length; i++) {\r\n      let arr = accountList.filter((item) => {\r\n        return item.tag.value === pureTagList[i]\r\n      })\r\n      value=arr.reduce((x, y) => x + parseInt(y.amount), 0)//拿到每项的总值\r\n      let percentValue=(value/totalValueByType*100).toFixed(2)\r\n\r\n      name = percentValue.toString()+'%-'+pureTagList[i]\r\n      tagCost.push({ value, name })\r\n    }\r\n\r\n    return { tagCost, pureTagList }\r\n  }\r\n  const [controller, setController] = useState(false)\r\n  function controllerHandle(moneyType) {\r\n    //用于bar和pie图表支出和收入的数据联动\r\n    moneyType === '+' ? setController(true) : setController(false)\r\n  }\r\n\r\n  return (\r\n    <div className=\"chart\">\r\n      <span>{dayjs().month()+1}月总支出</span>\r\n      <div className=\"chart-bar\">\r\n        <BarChart value={arrAccount()} controller={controllerHandle} />\r\n      </div>\r\n      <div className=\"chart-doughnut\">\r\n        {controller === false ? (\r\n          <Doughnut pureTagList={eachTagCost('-')} tagCost={eachTagCost('-') }/>\r\n        ) : (\r\n          <Doughnut pureTagList={eachTagCost('+')} tagCost={eachTagCost('+')}/>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nexport default function TotalLabel(){\r\n  return <div>\r\n    <h1>icon列表正在开发中</h1>\r\n  </div>\r\n}","import React from 'react'\r\n\r\nexport default function noMatch(){\r\n  return <div>\r\n    <h1>\r\n      404!!!\r\n    </h1>\r\n  </div>\r\n}","import {Link} from 'react-router-dom'\r\nimport Icon from './icon'\r\nimport { useState } from 'react'\r\nimport './nav.scss'\r\n\r\n export default function Nav(){\r\n   const addressList=[\"/countMoney\",\"/general\",\"/charts\"]\r\n   const navIcons=[{name:'money',value:'记账'},{name:'bookkeeping',value:'本月概况'},{name:'charts',value:'图表'}]\r\n   const navList=[]\r\n   const [clickIndex,setClickIndex]=useState(0)\r\n   addressList.map((item,index)=>{\r\n     let li = <li key={index} >\r\n       <Link to={item}\r\n        onClick={()=>navClickHandle(item)}\r\n        className={clickIndex===index?\"active\":''}\r\n       >\r\n        <Icon name={navIcons[index].name} />\r\n        {clickIndex===index?<span className={'showWord'}>\r\n          {navIcons[index].value}\r\n        </span>:null}\r\n       </Link>\r\n     </li>\r\n     return navList.push(li)\r\n   })\r\n  function navClickHandle(item){\r\n    let index=addressList.indexOf(item)\r\n    setClickIndex(index)\r\n  }\r\n  return <div className=\"navWrapper\">\r\n    <ul>\r\n      {navList}\r\n    </ul>\r\n  </div>\r\n}","import React from \"react\";\nimport CountMoney from './pages/countMoney'\nimport General from './pages/general'\nimport Charts from './pages/charts'\nimport TotalLabel from './pages/totalLabel'\nimport NoMatch from './pages/404'\nimport Nav from './components/nav'\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from \"react-router-dom\";\nimport styled from 'styled-components'\nimport './App.scss'\n\nconst Wrapper =styled.div`\n  height:100vh;\n  display:flex;\n  flex-direction:column\n`\nconst Main=styled.div`\n  overflow:auto;\n  flex:1\n`\n\nexport default function App() {\n  return (\n    <Router>\n      <Wrapper>\n        <Main>\n          <Switch>\n            <Route path=\"/countMoney\">\n              <CountMoney />\n            </Route>\n            <Route path=\"/general\">\n              <General />\n            </Route>\n            <Route path=\"/charts\">\n              <Charts />\n            </Route>\n            <Route path=\"/totalLabel\">\n              <TotalLabel />\n            </Route>\n            <Route path=\"/\">\n              <Redirect to=\"/countMoney\"/>\n            </Route>\n            <Route path=\"*\">\n              <NoMatch/>\n            </Route>\n          </Switch>\n        </Main>\n        <Nav />\n      </Wrapper>\n    </Router>\n  );\n}\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n// import CountMoney from './pages/countMoney';\nimport App from './App'\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}