(this.webpackJsonpbookkeeping=this.webpackJsonpbookkeeping||[]).push([[0],{245:function(e,n,t){},246:function(e,n,t){},247:function(e,n,t){},254:function(e,n,t){},549:function(e,n,t){},550:function(e,n,t){},551:function(e,n,t){},552:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t(3),c=t.n(r),i=t(143),o=t.n(i),s=(t(245),t(22)),l=t(36),u=t(20),d=t(233),j=t(234),b=function(){function e(n){Object(d.a)(this,e),this.dataKey=n}return Object(j.a)(e,[{key:"readData",value:function(){var e=localStorage.getItem(this.dataKey),n=[];return null!=e&&(n=JSON.parse(e)),n}},{key:"saveData",value:function(e){var n=JSON.stringify(e);localStorage.setItem(this.dataKey,n)}},{key:"addData",value:function(e){var n=this.readData(),t=e,a=n.length>0?n[n.length-1].id+1:1;return t.id=a,t.createAt=new Date,n.push(t),this.saveData(n),a}},{key:"removeData",value:function(e){var n=this.readData(),t=n.findIndex((function(n){return n.id===e}));return t>-1&&(n.splice(t,1),this.saveData(n),!0)}},{key:"dataConversion",value:function(e){var n=new Date(e);return{year:n.getFullYear(),month:n.getMonth()+1,day:n.getDate(),weekDay:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"][n.getDay()],hours:n.getHours(),minute:n.getMinutes()}}}]),e}();t(246);function h(e){var n=new b("accountBook"),t=Object(r.useState)(""),c=Object(u.a)(t,2),i=c[0],o=c[1];Object(r.useEffect)((function(){for(var t=document.querySelectorAll("div.buttonWrap>button"),a=0;a<t.length;a++)t[a].onclick=function(t){var a=t.target.textContent;if("\u5220\u9664"===a){if(0===i.length)return;o(i=i.substring(0,i.length-1))}else if("\u6e05\u96f6"===a)o(i="");else if("\u786e\u8ba4"===a){if("0"===i||""===i)return console.log("\u7ed9\u6211\u4e00\u4e2a\u6570\u5b57");console.log("\u8bb0\u5f55\u4e00\u7b14\u8d26");var r=Object(l.a)(Object(l.a)({},e.value),{},{amount:i});console.log("\ud83d\ude80 ~ file: numberPad.js ~ line 39 ~ editNumber ~ newBookList",r),n.addData(r),e.handleDefault(),o("")}else if(i.length<16)return o(i.concat(a))}}));var s=[];return["1","2","3","\u5220\u9664","4","5","6","\u786e\u8ba4","7","8","9","\u6e05\u96f6","0","."].map((function(e,n){var t=Object(a.jsx)("button",{className:"\u786e\u8ba4"===e?"OK":"",children:e},n);return s.push(t)})),Object(a.jsxs)("div",{className:"numberPad",children:[Object(a.jsxs)("div",{className:"show",children:[Object(a.jsx)("div",{className:"show-string",children:"\u91d1\u989d"}),Object(a.jsx)("div",{className:"show-number",children:i})]}),Object(a.jsx)("div",{className:"buttonWrap",children:s})]})}var f=t(23);t(247);function m(){var e=Object(s.a)(["\n\n  .iconfont{\n    width: 1em;\n    height: 1em;\n    vertical-align: -0.15em;\n    overflow: hidden;\n    fill: currentColor;\n  }\n"]);return m=function(){return e},e}var x=f.a.div(m());function p(e){var n=" i-"+e.name;return Object(a.jsx)(x,{className:"iconWrap",children:Object(a.jsx)("i",{className:"iconfont"+n})})}var v=t(15);function O(){var e=Object(s.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  width: 100%;\n  li {\n    width: 25%;\n    display:flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction:column;\n    font-size: 12px;\n    margin-top:2em;\n    .iconWrapper{\n      height:4em;\n      width:4em;\n      border-radius:50%;\n      display:flex;\n      justify-content: center;\n      align-items: center;\n      flex-direction:column;\n      background: #f5f5f5;\n      margin-bottom: 4px;\n      &.selected {\n        background: #ffda47;\n      }\n      .iconfont{\n        font-size:3.3em;\n      }\n    }\n  }\n"]);return O=function(){return e},e}var g=f.a.ul(O());function y(e){var n=Object(v.g)(),t=e.tagList,c=Object(r.useState)(0),i=Object(u.a)(c,2),o=i[0],s=i[1],l=[];return Object(r.useEffect)((function(){s(0)}),[e.tagList]),t.map((function(n,r){var c=Object(a.jsxs)("li",{onClick:function(){return function(n){var a=t.indexOf(n);s(a),e.handleTag(n)}(n)},children:[Object(a.jsx)("div",{className:"iconWrapper ".concat(o===r?"selected":""),children:Object(a.jsx)(p,{name:n.name})}),Object(a.jsx)("span",{children:n.value})]},r);return l.push(c)})),Object(a.jsxs)(g,{children:[l,e.ifPushAddTag?Object(a.jsxs)("li",{onClick:function(){return n.push("/totalLabel")},children:[Object(a.jsx)("div",{className:"iconWrapper",children:Object(a.jsx)(p,{name:"addTag"})}),Object(a.jsx)("span",{children:"\u6dfb\u52a0"})]}):null]})}var w=[{name:"food",value:"\u9910\u996e"},{name:"shopping",value:"\u8d2d\u7269"},{name:"house",value:"\u5c45\u4f4f"},{name:"transport",value:"\u4ea4\u901a"},{name:"entertainment",value:"\u5a31\u4e50"},{name:"medical",value:"\u533b\u7597"}],N=[{name:"salary",value:"\u5de5\u8d44"},{name:"part-time-job",value:"\u517c\u804c"},{name:"bonus",value:"\u5956\u91d1"},{name:"reimbursement",value:"\u62a5\u9500"},{name:"cash-gift",value:"\u793c\u91d1"}];function k(){var e=Object(s.a)(["\n  .tabBar{\n    display:flex;\n    justify-content:center;\n    align-items:center;\n    font-size:20px;\n    padding:4px 4px 0 4px;\n    background:#ffda47;\n    >span{\n      display:flex;\n      justify-content:center;\n      align-items:center;\n      position: relative;\n      margin: 0 15px;\n      padding:24px 0 8px;\n      &.selected::after{\n        content:'';\n        position:absolute;\n        height:1px;\n        background:black;\n        left:-40%;\n        bottom:0;\n        width:180%\n      }\n    }\n  }\n  .tabBar-taglist{\n    flex:1\n  }\n"]);return k=function(){return e},e}var D=f.a.div(k());function S(e){var n=Object(r.useState)(!0),t=Object(u.a)(n,2),c=t[0],i=t[1],o=Object(r.useState)(w),s=Object(u.a)(o,2),l=s[0],d=(s[1],Object(r.useState)(N)),j=Object(u.a)(d,2),b=j[0];j[1];function h(n){var t="-"===n;i(t);var a=!0===t?l[0]:b[0];e.moneyType(n,a)}function f(n){e.tagName(n)}return Object(a.jsxs)(D,{children:[Object(a.jsxs)("div",{className:"tabBar",children:[Object(a.jsx)("span",{onClick:function(){return h("-")},className:c?"selected":"",children:"\u652f\u51fa"}),Object(a.jsx)("span",{onClick:function(){return h("+")},className:c?"":"selected",children:"\u6536\u5165"})]}),Object(a.jsx)("div",{className:"tabBar-taglist",children:c?Object(a.jsx)(y,{tagList:l,handleTag:f,ifPushAddTag:!0}):Object(a.jsx)(y,{tagList:b,handleTag:f})})]})}function F(){var e=Object(s.a)(["\n  label{\n    display: flex;\n    align-items: center;\n    padding: 4px 8px;\n    font-size: 14px;\n    border-top: 1px solid #f5f5f5;\n    background: lighten(#f5f5f5, 4%);\n    .icon {\n      margin-right: 2px;\n    }\n    span {\n      white-space: nowrap;\n    }\n    input {\n      flex-grow: 1;\n      margin-left: 8px;\n      height: 32px;\n      border: none;\n      background: inherit;\n    }\n  }\n"]);return F=function(){return e},e}var A=f.a.div(F());function C(e){return Object(a.jsx)(A,{children:Object(a.jsxs)("label",{children:[Object(a.jsx)("div",{className:"icon",children:Object(a.jsx)(p,{name:"note"})}),Object(a.jsx)("span",{children:"\u5907\u6ce8:"}),Object(a.jsx)("input",{placeholder:"\u5199\u70b9\u5907\u6ce8\u5427",type:"text",value:e.value,onChange:e.handleInput})]})})}t(253);function T(){var e=Object(s.a)(["\n  height:100%;\n  display:flex;\n  justify-content: center;\n  flex-direction:column;\n  .switchAddOrMinus{\n    flex:1\n  }\n"]);return T=function(){return e},e}var B=f.a.div(T());function L(){var e=Object(r.useState)({id:"",moneyType:"-",amount:"",note:"",tag:{name:"food",value:"\u9910\u996e"},createAt:""}),n=Object(u.a)(e,2),t=n[0],c=n[1];return Object(a.jsxs)(B,{children:[Object(a.jsx)("div",{className:"switchAddOrMinus",children:Object(a.jsx)(S,{tagName:function(e){c(Object(l.a)(Object(l.a)({},t),{},{tag:e}))},moneyType:function(e,n){c(Object.assign(t,{moneyType:e,tag:n}))}})}),Object(a.jsx)("div",{className:"note",children:Object(a.jsx)(C,{handleInput:function(e){var n=e.target.value;c(Object(l.a)(Object(l.a)({},t),{},{note:n}))},value:t.note})}),Object(a.jsx)(h,{className:"numberPad",value:t,handleDefault:function(){console.log(t,"....."),c(Object(l.a)(Object(l.a)({},t),{},{note:""})),console.log(t,"lllll")}})]})}t(254);function E(){var e=new b("accountBook").readData().reverse(),n=[],t=function(n){return e.filter((function(e){return e.moneyType===n})).reduce((function(e,n){return e+parseInt(n.amount)}),0)};return e.map((function(e,t){var r=new Date(e.createAt).toLocaleDateString(),c="-"===e.moneyType?-e.amount:e.amount,i=Object(a.jsxs)("li",{children:[Object(a.jsxs)("div",{className:"iconWrapper",children:[Object(a.jsx)(p,{name:e.tag.name}),Object(a.jsx)("span",{children:e.tag.value})]}),Object(a.jsxs)("div",{className:"moneyAndDate",children:[Object(a.jsxs)("span",{className:"moneyAndDate-money",children:["\uffe5",c]}),Object(a.jsx)("span",{className:"moneyAndDate-date",children:r})]})]},t);return n.push(i)})),Object(a.jsxs)("div",{className:"general",children:[Object(a.jsxs)("div",{className:"general-head",children:[Object(a.jsx)("span",{children:"\u5168\u90e8\u6536\u652f |"}),Object(a.jsxs)("div",{className:"general-head-block",children:[Object(a.jsx)("span",{className:"general-head-block-word",children:"\u6536\u5165"}),Object(a.jsxs)("span",{className:"general-head-block-number",children:["\uffe5",t("+")]})]}),Object(a.jsxs)("div",{className:"general-head-block",children:[Object(a.jsx)("span",{className:"general-head-block-word",children:"\u652f\u51fa"}),Object(a.jsxs)("span",{className:"general-head-block-number",children:["\uffe5",t("-")]})]})]}),Object(a.jsx)("div",{className:"general-body",children:Object(a.jsx)("ul",{className:"general-body-list",children:n})})]})}var I=t(239),W=t(31),M=t.n(W),Y=function(){var e=(new Date).toISOString();return{year:M()(e).format("YYYY"),month:M()(e).format("MM"),day:M()(e).format("DD")}},P=t(106),z=t.n(P),J=document.documentElement.clientWidth,K=.7*document.documentElement.clientWidth;function X(e){return Object(r.useEffect)((function(){var n=document.getElementById("barChart");n.style="width: ".concat(J,"px;height:").concat(K,"px");var t=z.a.init(n),a={tooltip:{},legend:{data:["\u652f\u51fa","\u6536\u5165"],selected:{"\u652f\u51fa":!0,"\u6536\u5165":!1},itemWidth:40,itemHeight:25},grid:{x:15,y:40,x2:20,y2:30,borderWidth:1},xAxis:{type:"category",data:e.value.dayOfMonthX,splitLine:{show:!0,lineStyle:{color:["#F5F4F9"]}},axisLine:{lineStyle:{type:"solid",color:"#F5F4F9",width:"1"}},axisLabel:{interval:1,textStyle:{color:"#000",fontSize:12}}},yAxis:{splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1}},series:[{name:"\u652f\u51fa",type:"bar",data:e.value.expenseArr,itemStyle:{normal:{barBorderRadius:[20,10,0,0],color:"#FD6B71",label:{show:!0,position:"top",textStyle:{color:"#FD6B71"}}}},barWidth:5},{name:"\u6536\u5165",type:"bar",data:e.value.incomeArr,itemStyle:{normal:{barBorderRadius:[20,10,0,0],color:"#5aa469",label:{show:!0,position:"top",textStyle:{color:"#5aa469"}}}},barWidth:5}]};t.setOption(a),t.on("legendselectchanged",(function(n){for(var r=0;r<a.legend.data.length;r++)n.name===a.legend.data[r]?a.legend.selected[n.name]=!0:a.legend.selected[a.legend.data[r]]=!1;"\u6536\u5165"===n.name?e.controller("+"):e.controller("-"),t.setOption(a)}))}),[]),Object(a.jsx)("div",{id:"barChart"})}var H=document.documentElement.clientWidth,R=.7*document.documentElement.clientWidth;function q(e){return Object(r.useEffect)((function(){var n=document.getElementById("doughnut");n.style="width: ".concat(H,"px;height:").concat(R,"px");var t=z.a.init(n),a={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},series:[{name:"\u8bbf\u95ee\u6765\u6e90",type:"pie",radius:["45%","75%"],label:{show:!0,position:"center"},itemStyle:{normal:{label:{show:!0,textStyle:{color:"#3c4858",fontSize:"14"},formatter:function(e){return e.name.split("-").join("\n")}}},emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)",textColor:"#000"}},data:e.tagCost.tagCost,color:["#0E7CE2","#FF8352","#E271DE","#F8456B","#00FFFF","#4AEAB0","#503EFF","#733DFF","#966EFF"]}]};t.setOption(a)})),Object(a.jsx)("div",{id:"doughnut",style:{height:"272px"}})}var G=t(238);t(549);function Q(){var e=new b("accountBook").readData(),n=M()().daysInMonth(),t=Y().year,r=Y().month,c=e.filter((function(e){var n=M()(e.createAt).format("YYYY"),a=M()(e.createAt).format("MM");return n===t&&a===r})),i=c.filter((function(e){return"-"===e.moneyType})),o=c.filter((function(e){return"+"===e.moneyType})),s=function(e){for(var n="-"===e?i:o,t=[],a=0,r="",c=function(e){for(var n="-"===e?i:o,t=0,a=0;a<n.length;a++)t+=parseFloat(n[a].amount);return t}(e),s=n.map((function(e){return e.tag.value})),l=Object(I.a)(new Set(s)),u=function(e){var i=n.filter((function(n){return n.tag.value===l[e]})),o=((a=i.reduce((function(e,n){return e+parseInt(n.amount)}),0))/c*100).toFixed(2);r=o.toString()+"%-"+l[e],t.push({value:a,name:r})},d=0;d<l.length;d++)u(d);return{tagCost:t,pureTagList:l}},l=Object(G.useState)(!1),d=Object(u.a)(l,2),j=d[0],h=d[1];return Object(a.jsxs)("div",{className:"chart",children:[Object(a.jsxs)("span",{children:[M()().month()+1,"\u6708\u603b\u652f\u51fa"]}),Object(a.jsx)("div",{className:"chart-bar",children:Object(a.jsx)(X,{value:function(){for(var e=[],t=[],a=[],r=function(n){a[n]=n+1;var r=i.filter((function(e){return parseInt(M()(e.createAt).format("DD"))===n+1})).map((function(e){return parseInt(e.amount)})).reduce((function(e,n){return e+n}),0);e[n]=0===r?"":r;var c=o.filter((function(e){return parseInt(M()(e.createAt).format("DD"))===n+1})).map((function(e){return parseInt(e.amount)})).reduce((function(e,n){return e+n}),0);t[n]=0===c?"":c},c=0;c<n;c++)r(c);return{expenseArr:e,incomeArr:t,dayOfMonthX:a}}(),controller:function(e){h("+"===e)}})}),Object(a.jsx)("div",{className:"chart-doughnut",children:!1===j?Object(a.jsx)(q,{pureTagList:s("-"),tagCost:s("-")}):Object(a.jsx)(q,{pureTagList:s("+"),tagCost:s("+")})})]})}function U(){return Object(a.jsx)("div",{children:Object(a.jsx)("h1",{children:"icon\u5217\u8868\u6b63\u5728\u5f00\u53d1\u4e2d"})})}function V(){return Object(a.jsx)("div",{children:Object(a.jsx)("h1",{children:"404!!!"})})}var Z=t(83);t(550);function $(){var e=["/countMoney","/general","/charts"],n=[{name:"money",value:"\u8bb0\u8d26"},{name:"bookkeeping",value:"\u672c\u6708\u6982\u51b5"},{name:"charts",value:"\u56fe\u8868"}],t=[],c=Object(r.useState)(0),i=Object(u.a)(c,2),o=i[0],s=i[1];return e.map((function(r,c){var i=Object(a.jsx)("li",{children:Object(a.jsxs)(Z.b,{to:r,onClick:function(){return function(n){var t=e.indexOf(n);s(t)}(r)},className:o===c?"active":"",children:[Object(a.jsx)(p,{name:n[c].name}),o===c?Object(a.jsx)("span",{className:"showWord",children:n[c].value}):null]})},c);return t.push(i)})),Object(a.jsx)("div",{className:"navWrapper",children:Object(a.jsx)("ul",{children:t})})}t(551);function _(){var e=Object(s.a)(["\n  overflow:auto;\n  flex:1\n"]);return _=function(){return e},e}function ee(){var e=Object(s.a)(["\n  height:100vh;\n  display:flex;\n  flex-direction:column\n"]);return ee=function(){return e},e}var ne=f.a.div(ee()),te=f.a.div(_());function ae(){return Object(a.jsx)(Z.a,{children:Object(a.jsxs)(ne,{children:[Object(a.jsx)(te,{children:Object(a.jsxs)(v.d,{children:[Object(a.jsx)(v.b,{path:"/countMoney",children:Object(a.jsx)(L,{})}),Object(a.jsx)(v.b,{path:"/general",children:Object(a.jsx)(E,{})}),Object(a.jsx)(v.b,{path:"/charts",children:Object(a.jsx)(Q,{})}),Object(a.jsx)(v.b,{path:"/totalLabel",children:Object(a.jsx)(U,{})}),Object(a.jsx)(v.b,{path:"/",children:Object(a.jsx)(v.a,{to:"/countMoney"})}),Object(a.jsx)(v.b,{path:"*",children:Object(a.jsx)(V,{})})]})}),Object(a.jsx)($,{})]})})}var re=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,553)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),a(e),r(e),c(e),i(e)}))};o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(ae,{})}),document.getElementById("root")),re()}},[[552,1,2]]]);
//# sourceMappingURL=main.39e9c0f3.chunk.js.map